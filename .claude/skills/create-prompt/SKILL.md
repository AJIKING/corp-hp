---
name: create-prompt
description: 実装依頼プロンプトの作成・構造化を行うスキル。ざっくりした依頼内容からテンプレートに沿った構造化プロンプトを生成する。「依頼書作って」「プロンプト作って」「タスク整理して」「これを依頼にまとめて」と言われたとき、実装依頼の下書きを頼まれたときに使用する。
---

# 実装依頼プロンプト作成ガイド

ユーザーのざっくりした依頼内容を、構造化された実装依頼プロンプトに変換する。

## 手順

### Step 1: テンプレートの選択

ユーザーの依頼内容から、適切なテンプレートを判断する。

| 依頼の性質                   | テンプレート                                             |
| ---------------------------- | -------------------------------------------------------- |
| 新規ページ・セクション追加   | `.claude/prompts/templates/add-page.md`                  |
| 新規 API ルート追加          | `.claude/prompts/templates/add-api-route.md`             |
| 調査が必要 → 実装            | `.claude/prompts/templates/investigate-and-implement.md` |
| どちらにも当てはまらない     | テンプレートなしで構造化する（Step 2 のルールに従う）    |

テンプレートがある場合はファイルを読み込み、その構造に沿って作成する。

### Step 2: ユーザーの入力から情報を抽出・整理する

ユーザーの入力がざっくりしている場合でも、以下を推測・整理する：

- **何をするか**（概要を3行以内で）
- **対象ページ / コンポーネント / API ルート**
- **UI の仕様**（レイアウト、レスポンシブ、MUI コンポーネント）※該当する場合
- **要件・制約**
- **似ている既存実装**（わからなければユーザーに聞く）
- **テスト方針**（3層それぞれについて必須/不要を判断）

### Step 3: 情報が足りない場合はユーザーに聞く

以下が不明な場合は、推測せずにユーザーに確認する：

- 似ている既存実装のファイルパス
- UI デザイン・レイアウトの詳細
- 外部サービス連携の仕様（Webhook URL、API キーなど）
- テストでどのケースを重視するか

ただし、明らかに推測できるもの（例：既存のセクション追加なら components/features/ 配下）は聞かずに埋める。

### Step 4: チェックリストで検証する

`.claude/prompts/templates/checklist.md` を読み込み、作成したプロンプトがすべての項目を満たしているか確認する。

満たしていない項目があれば修正する。

### Step 5: 出力

完成したプロンプトを `.claude/prompts/archive` 配下に適切なファイル名で保存する。

ファイル名の規則: `{日付}_{簡潔な説明}.md`（例: `2026-02-22_recruit-page.md`）

## 構造化のルール

以下は `.claude/prompts/templates/checklist.md` の要約。プロンプト作成時に常に守る：

- 冒頭3行以内で「何をするか」が伝わること
- 変更不可の前提条件は1箇所にまとめる
- 実装タスクは依存順に並べる
- 仕様詳細は末尾の参照セクションに分離する
- CLAUDE.md に書いてある内容と重複する注意事項は書かない
- テスト方針は3層（unit / component / e2e）で書き、不要な層にも「不要（理由）」を明記する
- 「CLAUDE.md の TDD ルールに従う」と参照を入れる
- 似ている既存実装のパスを必ず含める
